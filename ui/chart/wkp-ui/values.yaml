nameOverride: ""
fullnameOverride: ""

uiServer:
  enabled: true
  image:
    repository: weaveworks/wkp-ui-server
    tag: master-8da7475
    pullSecrets: []
    pullPolicy: IfNotPresent
  ingress:
    enabled: false
    annotations: {}
    labels: {}
    path: /
    hosts:
      - chart-example.local
    tls: []
  service:
    port: 80
  config:
    alertmanagerUrl: http://prometheus-operator-alertmanager.monitoring.svc:9093
    prometheusUrl: http://prometheus-operator-prometheus.monitoring.svc:9090
    cluster:
      name: WKP/My Cluster
      provider: ''
      regions: ''
    dashboardUrl:
      alerts: http://wkp-ui-grafana.monitoring.svc:80/d/alerts/prometheus-alertmanager
      allNodes: http://wkp-ui-grafana.monitoring.svc:80/d/all-nodes-resources/kubernetes-all-nodes-resources
      singleNode: http://wkp-ui-grafana.monitoring.svc:80/d/single-node-resources/kubernetes-single-node-resources

grafanaSync:
  enabled: true
  image:
    repository: weaveworks/wkp-grafana-sync
    tag: master-8da7475
    pullSecrets: []
    pullPolicy: IfNotPresent
  job:
    backoffLimit: 0
  dashboards:
    # Passed through tpl
    grafanalibConfigMap: '{{ include "wkp-ui.fullname" . }}-grafanalib'
    jsonConfigMap: '{{ include "wkp-ui.fullname" . }}-json'
  args:
    grafanalibExec: "generate-dashboards"
    dashboard:
      configPrefix: "{{ .Release.Name }}-"
      configLabels: "grafana_dashboard,{{ .Release.Name }}-grafana-dashboard"
      configNamespace: "{{ .Release.Namespace }}"
  nodeSelector: {}
  tolerations: []
  affinity: {}
  resources: {}

grafana:
  enabled: true
  grafana.ini:
    analytics:
      reporting_enabled: false
    paths:
      # TODO: Consider removing this as it 1) overlaps with the default setting and 2) gets overriden in the process
      # See http://docs.grafana.org/installation/docker/#default-paths
      provisioning: /etc/grafana/provisioning
    auth:
      disable_login_form: true
      disable_signout_menu: true
    auth.anonymous:
      enabled: true
      org_role: Admin
    users:
      default_theme: light
  # Pull our own image of Grafana as it contains all our extra plugins
  image:
    repository: weaveworks/wkp-grafana
    tag: master-8da7475
    pullSecrets: []
  env:
    # Override the default path because that dir gets cleaned up by Grafana Helm Chart.
    # Also, we use env var to do that because of http://docs.grafana.org/installation/docker/#default-paths
    GF_PATHS_PLUGINS: /etc/grafana/plugins
  datasources:
    datasources.yaml:
      apiVersion: 1
      deleteDatasources:
      - name: Prometheus
      datasources:
      - name: Prometheus
        type: prometheus
        access: proxy
        # The Prometheus Helm release needs to be named prometheus running in `monitoring`
        url: http://prometheus-operator-prometheus.monitoring.svc:9090
        editable: false
        version: 1
      - name: Prometheus Alert Manager
        type: camptocamp-prometheus-alertmanager-datasource
        access: proxy
        url: http://prometheus-operator-alertmanager.monitoring.svc:9093
        editable: false
        version: 1
        jsonData:
          severity_critical: critical
          severity_high: high
          severity_warning: warning
          severity_info: none
  sidecar:
    dashboards:
      enabled: true
      label: grafana_dashboard
    datasources:
      enabled: true
      label: grafana_datasource
