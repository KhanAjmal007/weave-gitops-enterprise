#!/bin/bash

set -e

if [ ! -x "${GOPATH}/bin/golangci-lint" ]
then
    curl -sfL https://raw.githubusercontent.com/golangci/golangci-lint/master/install.sh| sh -s -- -b "${GOPATH}/bin" v1.23.6
fi

"${GOPATH}/bin/golangci-lint" run --tests --deadline=600s \
    --disable=errcheck \
    --enable=misspell \
    --verbose \
    --enable=gofmt \
	./addons/... \
	./cluster-components/... \
	./cmd/... \
	./kerberos/... \
	./pkg/addons/... \
	./pkg/apis/... \
	./pkg/check/... \
	./pkg/cri/... \
	./pkg/diff/... \
	./pkg/github/... \
	./pkg/gitops/... \
	./pkg/opa/... \
	./pkg/provisioning/... \
	./pkg/security/... \
	./pkg/utilities/... \
	./pkg/version/... \
	./wkp-cluster-components/...
