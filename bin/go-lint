#!/bin/bash

set -e

if [ ! -x "${GOPATH}/bin/golangci-lint" ]
then
    curl -sfL https://raw.githubusercontent.com/golangci/golangci-lint/master/install.sh| sh -s -- -b "${GOPATH}/bin" v1.17.1
fi


"${GOPATH}/bin/golangci-lint" run --tests --disable-all --deadline=600s \
    --enable=misspell \
    --enable=vet \
    --enable=ineffassign \
    --enable=gofmt \
   --skip-dirs=pkg/guide \
   --skip-dirs=pkg/addons/assets \
    ./...
